<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galactica - Free Online Space Shooter (Levels 0-50) | SureWhyNot</title>
  <meta name="description" content="Play Galactica, a free browser space shooter with 51 levels (0-50), boss-style escalation, extra lives, weapon upgrades, missiles, diving enemies, and local best score tracking." />
  <meta name="keywords" content="galactica game, free online space shooter, html5 arcade game, browser shooter levels" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://surewhynot.app/galactica" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Galactica - Free Online Space Shooter (Levels 0-50)" />
  <meta property="og:description" content="51 playable levels, upgrades, missiles, diving enemies, and escalating difficulty tiers. Built for the browser." />
  <meta property="og:url" content="https://surewhynot.app/galactica" />

  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@type":"Game",
    "name":"Galactica",
    "url":"https://surewhynot.app/galactica",
    "description":"Browser-based space shooter with 51 levels, upgrades, and local high scores.",
    "genre":"Shooter",
    "operatingSystem":"Web"
  }</script>

  <link rel="stylesheet" href="/assets/site.css" />
  <style>
    :root { color-scheme: dark; }
    body{ margin:0; background:#060b12; color:#e6edf3; }
    .game-wrap{ width:min(1040px,96vw); margin:14px auto 24px; }
    .game-head{ display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; margin-bottom:10px; }
    .card{ border:1px solid #1f2630; background:#0b1220; border-radius:14px; padding:14px; box-shadow:0 14px 26px rgba(0,0,0,.35); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .muted{ opacity:.72; }
    canvas{ width:100%; height:auto; border-radius:12px; border:1px solid #1f2630; display:block; background:#05070b; }
    .hud{ margin-top:10px; display:grid; gap:7px; font-size:12px; }
    .overlay{ position:absolute; inset:0; display:none; place-items:center; background:rgba(0,0,0,.54); border-radius:12px; }
    .panel{ width:min(580px,92%); background:#070d18; border:1px solid #2b3647; border-radius:14px; padding:14px; }
    .btnrow{ display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    input,button{ background:#0c1422; color:#e6edf3; border:1px solid #2d3849; border-radius:10px; padding:8px 10px; font:inherit; font-size:12px; }
    button:hover{ border-color:#4c6992; }
  </style>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7167291111213614" crossorigin="anonymous"></script>
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
</head>
<body>
<div class="page">
  <div id="site-header"></div>
  <main>
    <div class="game-wrap">
      <header class="game-head">
        <div>
          <h1 class="h2" style="margin:0">Galactica</h1>
          <p class="muted" style="margin:4px 0 0 0;font-size:12px;max-width:760px;">Move: A/D or arrows • Shoot: J • Missile: K/Space • Autofire: F • Restart: R • Next/Prev level: N/P. Difficulty scales from level 0-50 in 10-level tiers.</p>
        </div>
        <div class="row">
          <label class="muted" for="levelInput">Level</label>
          <input id="levelInput" type="number" min="0" max="50" value="0" />
          <button id="goBtn">Go</button>
          <button id="resetBestBtn">Reset Best</button>
        </div>
      </header>

      <div class="card">
        <div style="position:relative">
          <canvas id="game" width="920" height="560"></canvas>
          <div id="overlay" class="overlay"><div class="panel"><div id="overlayTitle" class="h2" style="margin:0"></div><div id="overlayBody" class="muted" style="margin-top:8px;line-height:1.6"></div><div class="btnrow"><button id="nextBtn">Next</button><button id="retryBtn">Retry</button><button id="closeBtn">Close</button></div></div></div>
        </div>

        <div class="hud">
          <div class="row"><div>Level: <b id="lvlLabel">0</b></div><div class="muted" id="tierLabel">Tier</div><div>Ships: <b id="livesLabel">3</b></div><div>Hull: <b id="hpLabel">3</b></div><div>Weapon: <b id="wpnLabel">1</b></div><div>Missiles: <b id="mslLabel">0</b></div><div>Escaped: <b id="escLabel">0</b></div></div>
          <div class="row"><div>Score: <b id="scoreLabel">0</b></div><div>Kills: <b id="killsLabel">0</b></div><div>Time: <b id="timeLabel">0.0s</b></div><div class="muted">Best: <b id="bestLabel">—</b></div><div>Status: <b id="status">Ready</b></div></div>
        </div>
      </div>
    </div>
  </main>
  <div id="site-footer"></div>
</div>
<script>
"use strict";
const c = document.getElementById("game"), g = c.getContext("2d", {alpha:false});
const W=c.width,H=c.height; const clamp=(v,l,h)=>Math.max(l,Math.min(h,v));
const el=(id)=>document.getElementById(id);
const statusEl=el("status"), lvlLabel=el("lvlLabel"), tierLabel=el("tierLabel"), hpLabel=el("hpLabel"), livesLabel=el("livesLabel"), wpnLabel=el("wpnLabel"), mslLabel=el("mslLabel"), escLabel=el("escLabel"), scoreLabel=el("scoreLabel"), killsLabel=el("killsLabel"), timeLabel=el("timeLabel"), bestLabel=el("bestLabel");
const overlay=el("overlay"), overlayTitle=el("overlayTitle"), overlayBody=el("overlayBody");
let level=0, lives=3, hp=3, weapon=1, missiles=2, autoFire=true, score=0, kills=0, escapes=0, waveOver=false;
let running=false,startMs=0,lastT=0, swDir=1, dropTimer=0, fireTimer=0, diveTimer=0;
let bullets=[], enemyBullets=[], missilesFx=[], particles=[], enemies=[];
const keys={left:false,right:false};
const player={x:W/2,y:H-70,speed:340,invuln:0,fireCd:0,missileCd:0};
const stars=Array.from({length:120},()=>({x:Math.random()*W,y:Math.random()*H,z:Math.random(),s:1+Math.random()*2}));

const tierNames=["Easy","Intermediate","Hard","Expert","You Will Not Survive","Legend"];
function params(lv){ const band=Math.min(5,Math.floor(lv/10)); const within=lv%10;
  return {
    band, within,
    cols:6+Math.min(4,Math.floor(lv/10))+Math.floor(within/4),
    rows:3+Math.min(4,Math.floor(lv/12)),
    speed:24+lv*0.9,
    dropEvery:Math.max(0.35,1.35-lv*0.015),
    dropSize:12+Math.floor(lv/5),
    bulletSpeed:185+lv*2.2,
    fireEvery:Math.max(0.16,1.0-lv*0.013),
    diveEvery:Math.max(0.35,2.4-lv*0.03),
    maxEscapes:Math.max(2,6-Math.floor(lv/12)),
    bonusLifeEvery:10
  };
}
function showOverlay(t,html){overlayTitle.textContent=t;overlayBody.innerHTML=html;overlay.style.display="grid";}
function hideOverlay(){overlay.style.display="none";}
function startTimer(){ if(!running){running=true; startMs=performance.now();}}
function elapsed(){return running?Math.max(0,performance.now()-startMs):0;}

function bestKey(lv){return `swn:galactica:v3:${lv}`;}
function loadBest(lv){ try{return JSON.parse(localStorage.getItem(bestKey(lv))||"null");}catch{return null;} }
function saveBest(lv,s,t,k){ const cur=loadBest(lv); const cand={score:s,time:t,kills:k}; const better=!cur||cand.score>cur.score||(cand.score===cur.score&&cand.time<cur.time); if(better) localStorage.setItem(bestKey(lv),JSON.stringify(cand)); return better; }
function fmtBest(b){ return b?`${b.score} pts • ${b.kills} kills • ${(b.time/1000).toFixed(1)}s`:"—"; }

function spawnLevel(){
  const p=params(level); enemies=[]; bullets=[]; enemyBullets=[]; missilesFx=[]; particles=[]; waveOver=false; escapes=0;
  player.x=W/2; player.invuln=0.8; player.fireCd=0; player.missileCd=0;
  weapon=clamp(1+Math.floor(level/8),1,5); missiles=clamp(2+Math.floor(level/7),2,10); hp=3;
  const mx=80, span=W-mx*2, sy=48;
  for(let r=0;r<p.rows;r++) for(let col=0;col<p.cols;col++){
    const x=mx+col*(span/Math.max(1,p.cols-1)); const y=75+r*sy;
    const type=(r===0&&level>25)?2:(r<2&&level>12)?1:0;
    enemies.push({x,y,w:28,h:20,type,hp:type===2?3:type===1?2:1,alive:true,dive:false,vx:(Math.random()*2-1)*30,phase:Math.random()*6.28});
  }
  swDir=1; dropTimer=0; fireTimer=0; diveTimer=0;
}

function setLevel(lv){ level=clamp(lv|0,0,50); el("levelInput").value=String(level); running=false; startMs=0; if(level===0){score=0;kills=0;lives=3;} spawnLevel(); statusEl.textContent="Ready"; bestLabel.textContent=fmtBest(loadBest(level)); syncHud(); hideOverlay(); }
function syncHud(){ const p=params(level); lvlLabel.textContent=String(level); tierLabel.textContent=`${tierNames[p.band]} (${p.within}/9)`; hpLabel.textContent=String(hp); livesLabel.textContent=String(lives); wpnLabel.textContent=String(weapon); mslLabel.textContent=String(missiles); escLabel.textContent=`${escapes}/${p.maxEscapes}`; scoreLabel.textContent=String(score); killsLabel.textContent=String(kills); timeLabel.textContent=`${(elapsed()/1000).toFixed(1)}s`; }

function fireGun(){ if(player.fireCd>0)return; startTimer(); const y=player.y-10; const add=(x,vx=0)=>bullets.push({x,y,vx,vy:-540,w:3,h:11,dmg:1});
  if(weapon===1)add(player.x); else if(weapon===2){add(player.x-8);add(player.x+8);} else if(weapon===3){add(player.x);add(player.x-10,-120);add(player.x+10,120);} else if(weapon===4){add(player.x-11);add(player.x);add(player.x+11);add(player.x-16,-130);add(player.x+16,130);} else {add(player.x-12);add(player.x-6);add(player.x+6);add(player.x+12);add(player.x,-40);} player.fireCd=Math.max(.06,.19-weapon*.02); }
function fireMissile(){ if(missiles<=0||player.missileCd>0)return; missiles--; startTimer(); missilesFx.push({x:player.x,y:player.y-14,vy:-320,power:2.8}); player.missileCd=.52; }
function hitEnemy(e,d){ e.hp-=d; if(e.hp<=0){e.alive=false;kills++;score+=20+e.type*15; for(let i=0;i<14;i++) particles.push({x:e.x,y:e.y,vx:(Math.random()*2-1)*140,vy:(Math.random()*2-1)*140,t:0,life:.45+Math.random()*0.25}); }}

function loseShip(){ lives--; if(lives>=0){ hp=3; player.x=W/2; player.invuln=1.1; if(lives>=0){showOverlay("Ship Destroyed",`You lost a ship. <b>${Math.max(0,lives)}</b> spare ships left.<br>Press Close to continue.`); statusEl.textContent="Ship destroyed";} }
  if(lives<0){ statusEl.textContent="Game over"; showOverlay("Game Over",`Final score: <b>${score}</b><br>Kills: <b>${kills}</b><br>Time: <b>${(elapsed()/1000).toFixed(1)}s`); }}

function update(dt){ if(overlay.style.display==="grid") return;
  const p=params(level);
  if((keys.left||keys.right)&&!running)startTimer();
  player.fireCd=Math.max(0,player.fireCd-dt); player.missileCd=Math.max(0,player.missileCd-dt); player.invuln=Math.max(0,player.invuln-dt);
  if(keys.left)player.x-=player.speed*dt; if(keys.right)player.x+=player.speed*dt; player.x=clamp(player.x,28,W-28);
  if(autoFire) fireGun();

  const alive=enemies.filter(e=>e.alive);
  const edge=alive.some(e=>e.x>W-45||e.x<45);
  for(const e of alive){ if(!e.dive){ e.x+=swDir*(p.speed+(e.type*20))*dt; e.y+=Math.sin(performance.now()*0.002+e.phase)*(10+e.type*3)*dt; }}
  if(edge){ swDir*=-1; for(const e of alive) if(!e.dive) e.y+=p.dropSize; }
  dropTimer+=dt; fireTimer+=dt; diveTimer+=dt;
  if(diveTimer>p.diveEvery && alive.length){ diveTimer=0; const pick=alive[(Math.random()*alive.length)|0]; if(!pick.dive){ pick.dive=true; pick.vx=(player.x<pick.x?-1:1)*(85+Math.random()*90); }}
  for(const e of alive){ if(e.dive){ e.y+=(150+level*3)*dt; e.x+=e.vx*dt; if(e.y>H+24){ e.alive=false; escapes++; score=Math.max(0,score-18);} } }
  if(fireTimer>p.fireEvery && alive.length){ fireTimer=0; const shooters=alive.filter(e=>!e.dive).sort((a,b)=>b.y-a.y).slice(0,Math.min(10,alive.length)); const s=shooters[(Math.random()*shooters.length)|0]; if(s) enemyBullets.push({x:s.x,y:s.y+12,vy:p.bulletSpeed}); }

  for(const b of bullets){ b.x+=b.vx*dt; b.y+=b.vy*dt; } bullets=bullets.filter(b=>b.y>-30&&b.x>-20&&b.x<W+20);
  for(const m of missilesFx){ m.y+=m.vy*dt; } missilesFx=missilesFx.filter(m=>m.y>-40);
  for(const eb of enemyBullets){ eb.y+=eb.vy*dt; } enemyBullets=enemyBullets.filter(b=>b.y<H+30);

  for(const b of bullets){ for(const e of enemies){ if(!e.alive)continue; if(Math.abs(b.x-e.x)<e.w*.5 && Math.abs(b.y-e.y)<e.h*.5){ b.y=-999; hitEnemy(e,b.dmg); break; } } }
  for(const m of missilesFx){ for(const e of enemies){ if(!e.alive)continue; if(Math.abs(m.x-e.x)<28 && Math.abs(m.y-e.y)<26){ m.y=-999; for(const t of enemies){ if(!t.alive)continue; if(Math.hypot(t.x-e.x,t.y-e.y)<64) hitEnemy(t,m.power); } break; } } }

  if(player.invuln<=0){
    for(const eb of enemyBullets){ if(Math.abs(eb.x-player.x)<16&&Math.abs(eb.y-player.y)<18){ eb.y=9999; hp--; player.invuln=.7; if(hp<=0)loseShip(); break; } }
    for(const e of enemies){ if(e.alive&&Math.abs(e.x-player.x)<20&&Math.abs(e.y-player.y)<20){ e.alive=false; hp--; player.invuln=.8; if(hp<=0)loseShip(); break; } }
  }

  particles=particles.filter(p=>{p.t+=dt; p.x+=p.vx*dt; p.y+=p.vy*dt; return p.t<p.life;});
  if(escapes>p.maxEscapes){ statusEl.textContent="Too many escaped"; loseShip(); escapes=0; }

  const remaining=enemies.filter(e=>e.alive).length;
  if(!waveOver && remaining===0){ waveOver=true; score+=140+level*9; const upd=saveBest(level,score,elapsed(),kills); bestLabel.textContent=fmtBest(loadBest(level)); statusEl.textContent="Level cleared";
    showOverlay("Level Complete",`Level <b>${level}</b> cleared.<br>Score: <b>${score}</b> • Kills: <b>${kills}</b><br>Escapes: <b>${escapes}</b><br>${upd?"New local best saved.":"Local best unchanged."}`);
  }
  syncHud();
}

function draw(){
  g.fillStyle="#04060a"; g.fillRect(0,0,W,H);
  for(const s of stars){ s.y+=(25+s.z*70)*0.016; if(s.y>H){s.y=-2;s.x=Math.random()*W;} g.fillStyle=`rgba(205,220,255,${0.2+s.z*0.7})`; g.fillRect(s.x,s.y,s.s,s.s); }
  const neb=g.createRadialGradient(W*.2,H*.28,20,W*.2,H*.28,330); neb.addColorStop(0,"rgba(95,120,255,.2)"); neb.addColorStop(1,"rgba(0,0,0,0)"); g.fillStyle=neb; g.fillRect(0,0,W,H);

  for(const e of enemies){ if(!e.alive)continue; const x=e.x,y=e.y; const grad=g.createLinearGradient(x-16,y-12,x+16,y+12); if(e.type===2){grad.addColorStop(0,"#ffc2c2");grad.addColorStop(1,"#7d1f1f");} else if(e.type===1){grad.addColorStop(0,"#ffe3aa");grad.addColorStop(1,"#765116");} else {grad.addColorStop(0,"#b2f3ff");grad.addColorStop(1,"#286294");}
    g.fillStyle=grad; g.beginPath(); g.moveTo(x,y-12); g.lineTo(x-14,y-2); g.lineTo(x-19,y+9); g.lineTo(x-6,y+6); g.lineTo(x+6,y+6); g.lineTo(x+19,y+9); g.lineTo(x+14,y-2); g.closePath(); g.fill(); g.fillStyle="rgba(15,24,32,.75)"; g.fillRect(x-5,y-4,10,5);
  }

  g.fillStyle="rgba(255,130,130,.9)"; for(const eb of enemyBullets){ g.fillRect(eb.x-2,eb.y-6,4,10);} g.fillStyle="rgba(180,230,255,.95)"; for(const b of bullets){g.fillRect(b.x-2,b.y-8,4,12);} g.fillStyle="rgba(215,255,180,.95)"; for(const m of missilesFx){g.fillRect(m.x-3,m.y-10,6,16);}

  const px=player.x,py=player.y; const glow=g.createRadialGradient(px,py,6,px,py,44); glow.addColorStop(0,"rgba(120,220,255,.25)"); glow.addColorStop(1,"rgba(0,0,0,0)"); g.fillStyle=glow; g.fillRect(px-60,py-60,120,120);
  const ship=g.createLinearGradient(px-20,py-18,px+18,py+18); ship.addColorStop(0,"#eef9ff"); ship.addColorStop(1,"#4f88ac"); g.fillStyle=ship;
  g.beginPath(); g.moveTo(px,py-22); g.lineTo(px-11,py-4); g.lineTo(px-24,py+12); g.lineTo(px-8,py+8); g.lineTo(px-4,py+18); g.lineTo(px+4,py+18); g.lineTo(px+8,py+8); g.lineTo(px+24,py+12); g.lineTo(px+11,py-4); g.closePath(); g.fill();
  g.fillStyle="rgba(29,62,90,.8)"; g.beginPath(); g.ellipse(px,py+2,5,8,0,0,6.28); g.fill(); if(player.invuln>0){ g.strokeStyle="rgba(255,255,255,.45)"; g.strokeRect(px-22,py-24,44,46); }

  for(const p of particles){ const a=1-p.t/p.life; g.fillStyle=`rgba(255,190,90,${a*.8})`; g.fillRect(p.x,p.y,2,2); }
  g.fillStyle="rgba(255,255,255,.68)"; g.font="12px ui-monospace,monospace"; g.fillText(`Level ${level} • ${tierNames[Math.min(5,Math.floor(level/10))]}`,10,18);
}

function loop(t){ const dt=Math.min(.033,(t-lastT)/1000||0); lastT=t; update(dt); draw(); requestAnimationFrame(loop); }

addEventListener("keydown",(e)=>{const k=e.key.toLowerCase(); if(k==="arrowleft"||k==="a"){keys.left=true;e.preventDefault();} if(k==="arrowright"||k==="d"){keys.right=true;e.preventDefault();} if(k==="j")fireGun(); if(k===" "||k==="k") {fireMissile(); e.preventDefault();} if(k==="f")autoFire=!autoFire; if(k==="r")setLevel(level); if(k==="n")setLevel(Math.min(50,level+1)); if(k==="p")setLevel(Math.max(0,level-1));});
addEventListener("keyup",(e)=>{const k=e.key.toLowerCase(); if(k==="arrowleft"||k==="a")keys.left=false; if(k==="arrowright"||k==="d")keys.right=false;});

c.style.touchAction="none"; c.addEventListener("pointermove",(e)=>{if(!(e.buttons&1))return; const r=c.getBoundingClientRect(); player.x=clamp((e.clientX-r.left)*(W/r.width),24,W-24);}); c.addEventListener("pointerdown",()=>startTimer());

el("goBtn").addEventListener("click",()=>setLevel(Number(el("levelInput").value)||0));
el("resetBestBtn").addEventListener("click",()=>{localStorage.removeItem(bestKey(level)); bestLabel.textContent="—";});
el("nextBtn").addEventListener("click",()=>setLevel(Math.min(50,level+1)));
el("retryBtn").addEventListener("click",()=>setLevel(level));
el("closeBtn").addEventListener("click",hideOverlay);

setInterval(()=>{ timeLabel.textContent=`${(elapsed()/1000).toFixed(1)}s`; },100);
setLevel(0); requestAnimationFrame(loop);

(async function loadPartials(){
  const [h,f]=await Promise.all([fetch('/partials/header.html'), fetch('/partials/footer.html')]);
  document.getElementById('site-header').innerHTML=await h.text();
  document.getElementById('site-footer').innerHTML=await f.text();
})();
</script>
</body>
</html>
