<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Browser Roguelike | surewhynot.app</title>

<meta name="description" content="Lightweight browser-based roguelike dungeon crawler with 50 progressively harder levels. Runs entirely in your browser. No accounts. No downloads.">
<meta name="robots" content="index,follow">
<link rel="canonical" href="https://surewhynot.app/roguelike.html">

<style>
body{
  margin:0;
  background:#0b0f14;
  color:#e6edf3;
  font-family:ui-monospace,Menlo,Consolas,monospace;
  display:flex;
  justify-content:center;
}
.wrap{width:min(1000px,95vw);padding:20px}
canvas{
  width:100%;
  background:#111;
  border-radius:12px;
  border:1px solid #222;
}
.h1{font-size:18px;font-weight:700;margin:0}
.h2{font-size:13px;opacity:.7;margin:4px 0 0 0}
p{font-size:13px;opacity:.65;margin:6px 0 14px 0}
.hud{font-size:12px;margin-top:8px;opacity:.8}
button{
  background:#111;
  color:#e6edf3;
  border:1px solid #333;
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
}
button:hover{border-color:#555}
</style>
</head>

<body>
<div class="wrap">

<h1 class="h1">Roguelike</h1>
<h2 class="h2">A lightweight browser dungeon crawler with progressive difficulty</h2>
<p>
50 levels of increasing enemy speed and density.  
Everything runs client-side. No accounts. No uploads.
</p>

<canvas id="game" width="800" height="480"></canvas>

<div class="hud">
Level: <b id="lvl">1</b> |
Enemies: <b id="ecount">0</b> |
Moves: <b id="moves">0</b>
<button onclick="nextLevel()">Next</button>
<button onclick="resetLevel()">Retry</button>
</div>

</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const TILE = 20;
const W = canvas.width / TILE;
const H = canvas.height / TILE;

let level = 1;
let player, exit, enemies;
let moves = 0;

function rand(n){return Math.floor(Math.random()*n);}

function buildLevel(){
  moves = 0;

  player = {x:2,y:2};
  exit = {x:W-3,y:H-3};

  const baseEnemies = 1 + Math.floor(level/4);
  const speedTier = Math.floor(level/15);

  enemies = [];
  for(let i=0;i<baseEnemies;i++){
    enemies.push({
      x:rand(W-4)+2,
      y:rand(H-4)+2,
      speed:1 + speedTier
    });
  }

  document.getElementById("lvl").textContent = level;
  document.getElementById("ecount").textContent = enemies.length;
  document.getElementById("moves").textContent = moves;
}

function draw(){
  ctx.fillStyle="#000";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="#0f1a25";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="#39d98a";
  ctx.fillRect(exit.x*TILE, exit.y*TILE, TILE, TILE);

  ctx.fillStyle="#ff4d4d";
  enemies.forEach(e=>{
    ctx.fillRect(e.x*TILE,e.y*TILE,TILE,TILE);
  });

  ctx.fillStyle="#e6edf3";
  ctx.fillRect(player.x*TILE,player.y*TILE,TILE,TILE);
}

function movePlayer(dx,dy){
  const nx = player.x+dx;
  const ny = player.y+dy;

  if(nx<1||ny<1||nx>W-2||ny>H-2) return;

  player.x=nx;
  player.y=ny;
  moves++;
  document.getElementById("moves").textContent=moves;

  if(player.x===exit.x && player.y===exit.y){
    level++;
    if(level>50) level=50;
    buildLevel();
  }

  enemyTurn();
  draw();
}

function enemyTurn(){
  enemies.forEach(e=>{
    for(let s=0;s<e.speed;s++){
      if(e.x<player.x) e.x++;
      else if(e.x>player.x) e.x--;
      else if(e.y<player.y) e.y++;
      else if(e.y>player.y) e.y--;

      if(e.x===player.x && e.y===player.y){
        resetLevel();
      }
    }
  });
}

function nextLevel(){
  if(level<50) level++;
  buildLevel();
  draw();
}

function resetLevel(){
  buildLevel();
  draw();
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowUp"||e.key==="w") movePlayer(0,-1);
  if(e.key==="ArrowDown"||e.key==="s") movePlayer(0,1);
  if(e.key==="ArrowLeft"||e.key==="a") movePlayer(-1,0);
  if(e.key==="ArrowRight"||e.key==="d") movePlayer(1,0);
});

buildLevel();
draw();
</script>
</body>
</html>